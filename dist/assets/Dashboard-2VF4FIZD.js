import{a as w}from"./axios-BimPEqV4.js";import{ab as e,ad as y,c as f,a as d,b as x,r as _,o as R}from"./index-B_n-HmOD.js";const g={class:"tw-iems-center tw-flex tw-flex-col tw-justify-center tw-gap-10 tw-bg-[#f5f4ec] tw-p-4"},b=d("span",{class:"tw-text-xl tw-font-semibold tw-text-[#f5b047] lg:tw-text-3xl"}," Registered Patients By Race Month Wise ",-1),D={class:"tw-mx-10 tw-h-[700px] tw-w-[1000px]"},A={__name:"Dashboard",setup(B){const i=e(null),o=e();async function v(){try{const a=await w.get("http://localhost:3010/patients-by-race");i.value=a.data,await m()}catch(a){console.log(a)}}async function m(){const a={months:[],races:{}};i.value.forEach(t=>{if(t.month&&t.patientRace){const s=t.month;a.months.includes(s)||(a.months.push(s),a.races[s]={}),a.races[s][t.patientRace]=t.totalPatients}}),a.months.sort((t,s)=>new Date(`${t}-01`)-new Date(`${s}-01`));const c={};a.months.forEach(t=>{c[t]=a.races[t]}),a.races=c,console.log(a);const n=e([]),l=e([]),r=e([]),h=e([]),p=e([]),u=e([]);a.months.forEach(t=>{n.value.push(a.races[t].white),l.value.push(a.races[t].black),r.value.push(a.races[t].asian),h.value.push(a.races[t].native),p.value.push(a.races[t].hawaiian),u.value.push(a.races[t].other)}),o.value={title:{text:"Stacked Line"},tooltip:{trigger:"axis"},legend:{data:["White","Black","Asian","Native","Hawaiian","Others"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:a.months},yAxis:{type:"value"},series:[{name:"White",type:"line",data:n.value},{name:"Black",type:"line",data:l.value},{name:"Asian",type:"line",data:r.value},{name:"Native",type:"line",data:h.value},{name:"Hawaiian",type:"line",data:p.value},{name:"Others",type:"line",data:u.value}]}}return y(async()=>{await v()}),(a,c)=>{const n=_("v-chart");return R(),f("div",g,[b,d("div",D,[x(n,{option:o.value},null,8,["option"])])])}}};export{A as default};
