import{a as m}from"./axios-BimPEqV4.js";import{r as e,fd as f,b as y,e as w,f as x,a as b,o as _}from"./index-B0pGiWZ1.js";const g={class:"tw-iems-center tw-flex tw-flex-col tw-justify-center tw-gap-10 tw-bg-[#f5f4ec] tw-p-4"},R=w("span",{class:"tw-text-xl tw-font-semibold tw-text-[#f5b047] lg:tw-text-3xl"}," Registered Patients By Race Month Wise ",-1),D={class:"tw-mx-10 tw-h-[400px] lg:tw-h-[600px] lg:tw-w-[1000px]"},A={__name:"Dashboard",setup(B){const c=e(null),i=e();async function d(){try{const a=await m.get("http://localhost:3010/patients-by-race");c.value=a.data,await v()}catch(a){console.log(a)}}async function v(){const a={months:[],races:{}};c.value.forEach(t=>{if(t.month&&t.patientRace){const s=t.month;a.months.includes(s)||(a.months.push(s),a.races[s]={}),a.races[s][t.patientRace]=t.totalPatients}}),a.months.sort((t,s)=>new Date(`${t}-01`)-new Date(`${s}-01`));const o={};a.months.forEach(t=>{o[t]=a.races[t]}),a.races=o,console.log(a);const n=e([]),l=e([]),r=e([]),h=e([]),u=e([]),p=e([]);a.months.forEach(t=>{n.value.push(a.races[t].white),l.value.push(a.races[t].black),r.value.push(a.races[t].asian),h.value.push(a.races[t].native),u.value.push(a.races[t].hawaiian),p.value.push(a.races[t].other)}),i.value={tooltip:{trigger:"axis"},legend:{data:["White","Black","Asian","Native","Hawaiian","Others"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:a.months},yAxis:{type:"value"},series:[{name:"White",type:"line",data:n.value,label:{show:!0}},{name:"Black",type:"line",data:l.value,label:{show:!0}},{name:"Asian",type:"line",data:r.value,label:{show:!0}},{name:"Native",type:"line",data:h.value,label:{show:!0}},{name:"Hawaiian",type:"line",data:u.value,label:{show:!0}},{name:"Others",type:"line",data:p.value,label:{show:!0}}]}}return f(async()=>{await d()}),(a,o)=>{const n=b("v-chart");return _(),y("div",g,[R,w("div",D,[x(n,{option:i.value},null,8,["option"])])])}}};export{A as default};
